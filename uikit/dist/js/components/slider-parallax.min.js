/*! UIkit 3.0.0-rc.17 | http://www.getuikit.com | (c) 2014 - 2018 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitslider_parallax",["uikit-util"],e):t.UIkitSlider_parallax=e(t.UIkit.util)}(this,function(b){"use strict";var t={props:{media:Boolean},data:{media:!1},computed:{matchMedia:function(){var t=function(t){if(b.isString(t))if("@"===t[0]){var e="breakpoint-"+t.substr(1);t=b.toFloat(b.getCssVar(e))}else if(isNaN(t))return t;return!(!t||isNaN(t))&&"(min-width: "+t+"px)"}(this.media);return!t||window.matchMedia(t).matches}}};var e=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];function v(t,e){var i=t.length-1,n=Math.min(Math.floor(i*e),i-1),r=t.slice(n,n+2);return r.push(1===e?1:e%(1/i)*i),r}function k(t,e,i){void 0===i&&(i=2);var n=v(t,e),r=n[0],a=n[1],s=n[2];return(b.isNumber(r)?r+Math.abs(r-a)*s*(r<a?1:-1):+a).toFixed(i)}var i={mixins:[{mixins:[t],props:e.reduce(function(t,e){return t[e]="list",t},{}),data:e.reduce(function(t,e){return t[e]=void 0,t},{}),computed:{props:function(h,p){var m=this;return e.reduce(function(t,e){if(b.isUndefined(h[e]))return t;var i,n,r,a=e.match(/color/i),s=a||"opacity"===e,o=h[e].slice(0);s&&b.css(p,e,""),o.length<2&&o.unshift(("scale"===e?1:s?b.css(p,e):0)||0);var c=b.includes(o.join(""),"%")?"%":"px";if(a){var u=p.style.color;o=o.map(function(t){return function(t,e){return b.css(b.css(t,"color",e),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(t){return b.toFloat(t)})}(p,t)}),p.style.color=u}else o=o.map(b.toFloat);if(e.match(/^bg/))if(b.css(p,"background-position-"+e[2],""),n=b.css(p,"backgroundPosition").split(" ")["x"===e[2]?0:1],m.covers){var l=Math.min.apply(Math,o),f=Math.max.apply(Math,o),d=o.indexOf(l)<o.indexOf(f);r=f-l,o=o.map(function(t){return t-(d?l:f)}),i=(d?-r:0)+"px"}else i=n;return t[e]={steps:o,unit:c,pos:i,bgPos:n,diff:r},t},{})},bgProps:function(){var e=this;return["bgx","bgy"].filter(function(t){return t in e.props})},covers:function(t,e){return function(t){var e=t.style.backgroundSize,i="cover"===b.css(b.css(t,"backgroundSize",""),"backgroundSize");return t.style.backgroundSize=e,i}(e)}},disconnected:function(){delete this._image},update:{read:function(t){var e=this;if(t.active=this.matchMedia,t.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight},!("image"in t)&&this.covers&&this.bgProps.length){var i=b.css(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(i){var n=new Image;n.src=i,(t.image=n).naturalWidth||(n.onload=function(){return e.$emit()})}}},write:function(t){var c=this,u=t.dimEl,e=t.image,i=t.active;if(e&&e.naturalWidth)if(i){var l={width:e.naturalWidth,height:e.naturalHeight},f=b.Dimensions.cover(l,u);this.bgProps.forEach(function(t){var e=c.props[t],i=e.diff,n=e.bgPos,r=e.steps,a="bgy"===t?"height":"width",s=f[a]-u[a];if(n.match(/%$|0px/)){if(s<i)u[a]=f[a]+i-s;else if(i<s){var o=parseFloat(n);o&&(c.props[t].steps=r.map(function(t){return t-(s-i)/(100/o)}))}f=b.Dimensions.cover(l,u)}}),b.css(this.$el,{backgroundSize:f.width+"px "+f.height+"px",backgroundRepeat:"no-repeat"})}else b.css(this.$el,{backgroundSize:"",backgroundRepeat:""})},events:["load","resize"]},methods:{reset:function(){var i=this;b.each(this.getCss(0),function(t,e){return b.css(i.$el,e,"")})},getCss:function(p){var m=this.props,g=!1;return Object.keys(m).reduce(function(t,e){var i=m[e],n=i.steps,r=i.unit,a=i.pos,s=k(n,p);switch(e){case"x":case"y":if(g)break;var o=["x","y"].map(function(t){return e===t?b.toFloat(s).toFixed(0)+r:m[t]?k(m[t].steps,p,0)+m[t].unit:0}),c=o[0],u=o[1];g=t.transform+=" translate3d("+c+", "+u+", 0)";break;case"rotate":t.transform+=" rotate("+s+"deg)";break;case"scale":t.transform+=" scale("+s+")";break;case"bgy":case"bgx":t["background-position-"+e[2]]="calc("+a+" + "+(s+r)+")";break;case"color":case"backgroundColor":case"borderColor":var l=v(n,p),f=l[0],d=l[1],h=l[2];t[e]="rgba("+f.map(function(t,e){return t+=h*(d[e]-t),3===e?b.toFloat(t):parseInt(t,10)}).join(",")+")";break;case"blur":t.filter+=" blur("+s+"px)";break;case"hue":t.filter+=" hue-rotate("+s+"deg)";break;case"fopacity":t.filter+=" opacity("+s+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":t.filter+=" "+e+"("+s+"%)";break;default:t[e]=s}return t},{transform:"",filter:""})}}}],data:{selItem:"!li"},computed:{item:function(t,e){var i=t.selItem;return b.query(i,e)}},events:[{name:"itemshown",self:!0,el:function(){return this.item},handler:function(){b.css(this.$el,this.getCss(.5))}},{name:"itemin itemout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,r=i.duration,a=i.timing,s=i.dir;b.Transition.cancel(this.$el),b.css(this.$el,this.getCss(c(e,s,n))),b.Transition.start(this.$el,this.getCss(o(e)?.5:0<s?1:0),r,a).catch(b.noop)}},{name:"transitioncanceled transitionend",self:!0,el:function(){return this.item},handler:function(){b.Transition.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,r=i.dir;b.Transition.cancel(this.$el),b.css(this.$el,this.getCss(c(e,r,n)))}}]};function o(t){return b.endsWith(t,"in")}function c(t,e,i){return i/=2,o(t)?e<0?1-i:i:e<0?i:1-i}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("sliderParallax",i),i});