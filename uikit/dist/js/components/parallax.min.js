/*! UIkit 3.0.0-rc.17 | http://www.getuikit.com | (c) 2014 - 2018 YOOtheme | MIT License */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitparallax",["uikit-util"],t):e.UIkitParallax=t(e.UIkit.util)}(this,function(m){"use strict";var e={props:{media:Boolean},data:{media:!1},computed:{matchMedia:function(){var e=function(e){if(m.isString(e))if("@"===e[0]){var t="breakpoint-"+e.substr(1);e=m.toFloat(m.getCssVar(t))}else if(isNaN(e))return e;return!(!e||isNaN(e))&&"(min-width: "+e+"px)"}(this.media);return!e||window.matchMedia(e).matches}}};var t=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];function v(e,t){var r=e.length-1,i=Math.min(Math.floor(r*t),r-1),a=e.slice(i,i+2);return a.push(1===t?1:t%(1/r)*r),a}function k(e,t,r){void 0===r&&(r=2);var i=v(e,t),a=i[0],n=i[1],s=i[2];return(m.isNumber(a)?a+Math.abs(a-n)*s*(a<n?1:-1):+n).toFixed(r)}var r={mixins:[{mixins:[e],props:t.reduce(function(e,t){return e[t]="list",e},{}),data:t.reduce(function(e,t){return e[t]=void 0,e},{}),computed:{props:function(p,h){var g=this;return t.reduce(function(e,t){if(m.isUndefined(p[t]))return e;var r,i,a,n=t.match(/color/i),s=n||"opacity"===t,o=p[t].slice(0);s&&m.css(h,t,""),o.length<2&&o.unshift(("scale"===t?1:s?m.css(h,t):0)||0);var c=m.includes(o.join(""),"%")?"%":"px";if(n){var u=h.style.color;o=o.map(function(e){return function(e,t){return m.css(m.css(e,"color",t),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(e){return m.toFloat(e)})}(h,e)}),h.style.color=u}else o=o.map(m.toFloat);if(t.match(/^bg/))if(m.css(h,"background-position-"+t[2],""),i=m.css(h,"backgroundPosition").split(" ")["x"===t[2]?0:1],g.covers){var l=Math.min.apply(Math,o),f=Math.max.apply(Math,o),d=o.indexOf(l)<o.indexOf(f);a=f-l,o=o.map(function(e){return e-(d?l:f)}),r=(d?-a:0)+"px"}else r=i;return e[t]={steps:o,unit:c,pos:r,bgPos:i,diff:a},e},{})},bgProps:function(){var t=this;return["bgx","bgy"].filter(function(e){return e in t.props})},covers:function(e,t){return function(e){var t=e.style.backgroundSize,r="cover"===m.css(m.css(e,"backgroundSize",""),"backgroundSize");return e.style.backgroundSize=t,r}(t)}},disconnected:function(){delete this._image},update:{read:function(e){var t=this;if(e.active=this.matchMedia,e.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight},!("image"in e)&&this.covers&&this.bgProps.length){var r=m.css(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(r){var i=new Image;i.src=r,(e.image=i).naturalWidth||(i.onload=function(){return t.$emit()})}}},write:function(e){var c=this,u=e.dimEl,t=e.image,r=e.active;if(t&&t.naturalWidth)if(r){var l={width:t.naturalWidth,height:t.naturalHeight},f=m.Dimensions.cover(l,u);this.bgProps.forEach(function(e){var t=c.props[e],r=t.diff,i=t.bgPos,a=t.steps,n="bgy"===e?"height":"width",s=f[n]-u[n];if(i.match(/%$|0px/)){if(s<r)u[n]=f[n]+r-s;else if(r<s){var o=parseFloat(i);o&&(c.props[e].steps=a.map(function(e){return e-(s-r)/(100/o)}))}f=m.Dimensions.cover(l,u)}}),m.css(this.$el,{backgroundSize:f.width+"px "+f.height+"px",backgroundRepeat:"no-repeat"})}else m.css(this.$el,{backgroundSize:"",backgroundRepeat:""})},events:["load","resize"]},methods:{reset:function(){var r=this;m.each(this.getCss(0),function(e,t){return m.css(r.$el,t,"")})},getCss:function(h){var g=this.props,b=!1;return Object.keys(g).reduce(function(e,t){var r=g[t],i=r.steps,a=r.unit,n=r.pos,s=k(i,h);switch(t){case"x":case"y":if(b)break;var o=["x","y"].map(function(e){return t===e?m.toFloat(s).toFixed(0)+a:g[e]?k(g[e].steps,h,0)+g[e].unit:0}),c=o[0],u=o[1];b=e.transform+=" translate3d("+c+", "+u+", 0)";break;case"rotate":e.transform+=" rotate("+s+"deg)";break;case"scale":e.transform+=" scale("+s+")";break;case"bgy":case"bgx":e["background-position-"+t[2]]="calc("+n+" + "+(s+a)+")";break;case"color":case"backgroundColor":case"borderColor":var l=v(i,h),f=l[0],d=l[1],p=l[2];e[t]="rgba("+f.map(function(e,t){return e+=p*(d[t]-e),3===t?m.toFloat(e):parseInt(e,10)}).join(",")+")";break;case"blur":e.filter+=" blur("+s+"px)";break;case"hue":e.filter+=" hue-rotate("+s+"deg)";break;case"fopacity":e.filter+=" opacity("+s+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":e.filter+=" "+t+"("+s+"%)";break;default:e[t]=s}return e},{transform:"",filter:""})}}}],props:{target:String,viewport:Number,easing:Number},data:{target:!1,viewport:1,easing:1},computed:{target:function(e,t){var r=e.target;return r&&m.query(r,t)||t}},update:{read:function(e,t){var r=e.percent,i=e.active;if("scroll"!==t.type&&(r=!1),i){var a=r;return{percent:r=function(e,t){return m.clamp(e*(1-(t-t*e)))}(m.scrolledOver(this.target)/(this.viewport||1),this.easing),style:a!==r&&this.getCss(r)}}},write:function(e){var t=e.style;e.active?t&&m.css(this.$el,t):this.reset()},events:["scroll","load","resize"]}};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("parallax",r),r});