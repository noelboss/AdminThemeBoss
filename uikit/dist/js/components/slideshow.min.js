/*! UIkit 3.0.0-beta.40 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("uikitslideshow",e):t.UIkitSlideshow=e()}(this,function(){"use strict";function l(t,e){return void 0===t&&(t=0),void 0===e&&(e="%"),"translateX("+t+(t?e:"")+")"}function f(t){return"scale3d("+t+", "+t+", 1)"}function T(t){if(!T.installed){var e,i,n,s,r,a,o,h,u,c,d,f,l,p,m,v,g,x,w,b,I,y,k,z=t.util,_=z.$,$=z.assign,A=z.clamp,M=z.fastdom,C=z.getIndex,H=z.hasClass,N=z.isNumber,S=z.isRtl,D=z.Promise,P=z.toNodes,O=z.trigger;t.mixin.slider={attrs:!0,mixins:[(y=t,k=y.util.pointerDown,{props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},defaults:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},events:[{name:"visibilitychange",el:document,handler:function(){document.hidden?this.stopAutoplay():this.startAutoplay()}},{name:k,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}}],methods:{startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){return!(t.isHovering&&t.pauseOnHover)&&!t.stack.length&&t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}}),(u=t,c=u.util,d=c.getPos,f=c.includes,l=c.isRtl,p=c.isTouch,m=c.off,v=c.on,g=c.pointerDown,x=c.pointerMove,w=c.pointerUp,b=c.preventClick,I=c.trigger,{defaults:{threshold:10,preventCatch:!1},init:function(){var n=this;["start","move","end"].forEach(function(t){var i=n[t];n[t]=function(t){var e=d(t).x*(l?-1:1);n.prevPos=e!==n.pos?n.pos:n.prevPos,n.pos=e,i(t)}})},events:[{name:g,delegate:function(){return this.slidesSelector},handler:function(t){var e;!p(t)&&!(e=t.target).children.length&&e.childNodes.length||0<t.button||this.length<2||this.preventCatch||this.start(t)}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.translate(this.percent),this._transitioner.cancel(),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,this.unbindMove=v(document,x,this.move,{capture:!0,passive:!1}),v(window,"scroll",this.unbindMove),v(document,w,this.end,!0)},move:function(t){var e=this,i=this.pos-this.drag;if(!(0===i||this.prevPos===this.pos||!this.dragging&&Math.abs(i)<this.threshold)){t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=i<0?1:-1;for(var n=this.slides,s=this.prevIndex,r=Math.abs(i),a=this.getIndex(s+this.dir,s),o=this._getDistance(s,a)||n[s].offsetWidth;a!==s&&o<r;)e.drag-=o*e.dir,s=a,r-=o,a=e.getIndex(s+e.dir,s),o=e._getDistance(s,a)||n[s].offsetWidth;this.percent=r/o;var h,u=n[s],c=n[a],d=this.index!==a,l=s===a;[this.index,this.prevIndex].filter(function(t){return!f([a,s],t)}).forEach(function(t){I(n[t],"itemhidden",[e]),l&&(h=!0,e.prevIndex=s)}),(this.index===s&&this.prevIndex!==s||h)&&I(n[this.index],"itemshown",[this]),d&&(this.prevIndex=s,this.index=a,!l&&I(u,"beforeitemhide",[this]),I(c,"beforeitemshow",[this])),this._transitioner&&this._transitioner.reset(),this._transitioner=this._translate(Math.abs(this.percent),u,!l&&c),d&&(!l&&I(u,"itemhide",[this]),I(c,"itemshow",[this]))}},end:function(){if(m(window,"scroll",this.unbindMove),this.unbindMove(),m(document,w,this.end,!0),this.dragging){if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{var t=(l?this.dir*(l?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(0<this.dir&&!t||this.dir<0&&t?"next":"previous",!0)}b()}this.drag=this.percent=null}}}),(e=t,i=e.util,n=i.$,s=i.$$,r=i.data,a=i.html,o=i.toggleClass,h=i.toNumber,{defaults:{selNav:!1},computed:{nav:function(t,e){var i=t.selNav;return n(i,e)},navItemSelector:function(t){var e=t.attrItem;return"["+e+"],[data-"+e+"]"},navItems:function(t,e){return s(this.navItemSelector,e)}},update:[{write:function(){var i=this;this.nav&&this.length!==this.nav.children.length&&a(this.nav,this.slides.map(function(t,e){return"<li "+i.attrItem+'="'+e+'"><a href="#"></a></li>'}).join("")),o(s(this.navItemSelector,this.$el).concat(this.nav),"uk-hidden",!this.maxIndex),this.updateNav()},events:["load","resize"]}],events:[{name:"click",delegate:function(){return this.navItemSelector},handler:function(t){t.preventDefault(),t.current.blur(),this.show(r(t.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav:function(){var i=this,n=this.getValidIndex();this.navItems.forEach(function(t){var e=r(t,i.attrItem);o(t,i.clsActive,h(e)===n),o(t,"uk-invisible",i.finite&&("previous"===e&&0===n||"next"===e&&n>=i.maxIndex))})}}})],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},defaults:{easing:"ease",finite:!1,velocity:1,index:0,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}},computed:{duration:function(t,e){var i=t.velocity;return.5*(e.offsetWidth/i)+300},length:function(){return this.slides.length},list:function(t,e){var i=t.selList;return _(i,e)},maxIndex:function(){return this.length-1},slidesSelector:function(t){return t.selList+" > *"},slides:function(){return P(this.list.children)}},methods:{show:function(t,e){var i=this;if(void 0===e&&(e=!1),!this.dragging&&this.length){var n=this.stack,s=e?0:n.length,r=function(){n.splice(s,1),n.length&&i.show(n.shift(),!0)};if(n[e?"unshift":"push"](t),!e&&1<n.length)2===n.length&&this._transitioner.forward(Math.min(this.duration,200));else{var a=this.index,o=H(this.slides,this.clsActive)&&this.slides[a],h=this.getIndex(t,this.index),u=this.slides[h];if(o!==u){var c,d;if(this.dir=(d=a,"next"===(c=t)?1:"previous"===c?-1:c<d?-1:1),this.prevIndex=a,this.index=h,o&&O(o,"beforeitemhide",[this]),!O(u,"beforeitemshow",[this,o]))return this.index=this.prevIndex,void r();var l=this._show(o,u,e).then(function(){return o&&O(o,"itemhidden",[i]),O(u,"itemshown",[i]),new D(function(t){M.write(function(){n.shift(),n.length?i.show(n.shift(),!0):i._transitioner=null,t()})})});return o&&O(o,"itemhide",[this]),O(u,"itemshow",[this]),l}r()}}},getIndex:function(t,e){return void 0===t&&(t=this.index),void 0===e&&(e=this.index),A(C(t,this.slides,e,this.finite),0,this.maxIndex)},getValidIndex:function(t,e){return void 0===t&&(t=this.index),void 0===e&&(e=this.prevIndex),this.getIndex(t,e)},_show:function(t,e,i){if(this._transitioner=this._getTransitioner(t,e,this.dir,$({easing:i?e.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing},this.transitionOptions)),!i&&!t)return this._transitioner.translate(1),D.resolve();var n=this.stack.length;return this._transitioner[1<n?"forward":"show"](1<n?Math.min(this.duration,75+75/(n-1)):this.duration,this.percent)},_getDistance:function(t,e){return new this._getTransitioner(t,t!==e&&e).getDistance()},_translate:function(t,e,i){void 0===e&&(e=this.prevIndex),void 0===i&&(i=this.index);var n=this._getTransitioner(e!==i&&e,i);return n.translate(t),n},_getTransitioner:function(t,e,i,n){return void 0===t&&(t=this.prevIndex),void 0===e&&(e=this.index),void 0===i&&(i=this.dir||1),void 0===n&&(n=this.transitionOptions),new this.Transitioner(N(t)?this.slides[t]:t,N(e)?this.slides[e]:e,i*(S?-1:1),n)}}}}}function p(i){if(!p.installed){i.use(T);var e,n,t=i.mixin,s=i.util,r=s.addClass,a=s.assign,o=s.fastdom,h=s.isNumber,u=s.removeClass,c=(e=i.util.css,n={slide:{show:function(t){return[{transform:l(-100*t)},{transform:l()}]},percent:function(t){return n.translated(t)},translate:function(t,e){return[{transform:l(-100*e*t)},{transform:l(100*e*(1-t))}]}},translated:function(t){return Math.abs(e(t,"transform").split(",")[4]/t.offsetWidth)||0}}),d=function(t){var e=t.util,n=e.createEvent,d=e.clamp,l=e.css,f=e.Deferred,p=e.noop,m=e.Promise,v=e.Transition,s=e.trigger;function g(t,e,i){s(t,n(e,!1,!1,i))}return function(r,a,o,t){var e=t.animation,h=t.easing,i=e.percent,n=e.translate,s=e.show;void 0===s&&(s=p);var u=s(o),c=new f;return{dir:o,show:function(t,e,i){var n=this;void 0===e&&(e=0);var s=i?"linear":h;return t-=Math.round(t*d(e,-1,1)),this.translate(e),g(a,"itemin",{percent:e,duration:t,timing:s,dir:o}),g(r,"itemout",{percent:1-e,duration:t,timing:s,dir:o}),m.all([v.start(a,u[1],t,s),v.start(r,u[0],t,s)]).then(function(){n.reset(),c.resolve()},p),c.promise},stop:function(){return v.stop([a,r])},cancel:function(){v.cancel([a,r])},reset:function(){for(var t in u[0])l([a,r],t,"")},forward:function(t,e){return void 0===e&&(e=this.percent()),v.cancel([a,r]),this.show(t,e,!0)},translate:function(t){var e=n(t,o);l(a,e[1]),l(r,e[0]),g(a,"itemtranslatein",{percent:t,dir:o}),g(r,"itemtranslateout",{percent:1-t,dir:o})},percent:function(){return i(r||a,a,o)},getDistance:function(){return r.offsetWidth}}}}(i);i.mixin.slideshow={mixins:[t.slider],props:{animation:String},defaults:{animation:"slide",clsActivated:"uk-transition-active",Animations:c,Transitioner:d},computed:{animation:function(t){var e=t.animation,i=t.Animations;return a(e in i?i[e]:i.slide,{name:e})},transitionOptions:function(){return{animation:this.animation}}},events:{"itemshow itemhide itemshown itemhidden":function(t){var e=t.target;i.update(null,e)},itemshow:function(){h(this.prevIndex)&&o.flush()},beforeitemshow:function(t){var e=t.target;r(e,this.clsActive)},itemshown:function(t){var e=t.target;r(e,this.clsActivated)},itemhidden:function(t){var e=t.target;u(e,this.clsActive,this.clsActivated)}}}}}function m(t){if(!m.installed){var e=t.mixin,i=t.util,v=i.css,l=i.Dimensions,n=i.each,s=i.getImage,g=i.includes,a=i.isNumber,x=i.isUndefined,w=i.toFloat,r=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];e.parallax={props:r.reduce(function(t,e){return t[e]="list",t},{media:"media"}),defaults:r.reduce(function(t,e){return t[e]=void 0,t},{media:!1}),computed:{props:function(f,p){var m=this;return r.reduce(function(t,e){if(x(f[e]))return t;var i,n,s,r=e.match(/color/i),a=r||"opacity"===e,o=f[e].slice(0);a&&v(p,e,""),o.length<2&&o.unshift(("scale"===e?1:a?v(p,e):0)||0);var h=g(o.join(""),"%")?"%":"px";if(r){var u=p.style.color;o=o.map(function(t){return v(v(p,"color",t),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(t){return w(t)})}),p.style.color=u}else o=o.map(w);if(e.match(/^bg/))if(v(p,"background-position-"+e[2],""),n=v(p,"backgroundPosition").split(" ")["x"===e[2]?0:1],m.covers){var c=Math.min.apply(Math,o),d=Math.max.apply(Math,o),l=o.indexOf(c)<o.indexOf(d);s=d-c,o=o.map(function(t){return t-(l?c:d)}),i=(l?-s:0)+"px"}else i=n;return t[e]={steps:o,unit:h,pos:i,bgPos:n,diff:s},t},{})},bgProps:function(){var e=this;return["bgx","bgy"].filter(function(t){return t in e.props})},covers:function(t,e){return"cover"===v(""!==e.style.backgroundSize?v(e,"backgroundSize",""):e,"backgroundSize")}},disconnected:function(){delete this._image},update:[{read:function(e){var i=this;if(e.active=!this.media||window.matchMedia(this.media).matches,e.image&&(e.image.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),!("image"in e)&&this.covers&&this.bgProps.length){var t=v(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");t&&(e.image=!1,s(t).then(function(t){e.image={width:t.naturalWidth,height:t.naturalHeight},i.$emit()}))}},write:function(t){var h=this,u=t.image,e=t.active;if(u)if(e){var c=u.dimEl,d=l.cover(u,c);this.bgProps.forEach(function(t){var e=h.props[t],i=e.diff,n=e.bgPos,s=e.steps,r="bgy"===t?"height":"width",a=d[r]-c[r];if(n.match(/%$|0px/)){if(a<i)c[r]=d[r]+i-a;else if(i<a){var o=parseFloat(n);o&&(h.props[t].steps=s.map(function(t){return t-(a-i)/(100/o)}))}d=l.cover(u,c)}}),v(this.$el,{backgroundSize:d.width+"px "+d.height+"px",backgroundRepeat:"no-repeat"})}else v(this.$el,{backgroundSize:"",backgroundRepeat:""})},events:["load","resize"]}],methods:{reset:function(){var i=this;n(this.getCss(0),function(t,e){return v(i.$el,e,"")})},getCss:function(p){var m=this.props,v=!1;return Object.keys(m).reduce(function(t,e){var i=m[e],n=i.steps,s=i.unit,r=i.pos,a=I(n,p);switch(e){case"x":case"y":if(v)break;var o=["x","y"].map(function(t){return e===t?a+s:m[t]?I(m[t].steps,p)+m[t].unit:0}),h=o[0],u=o[1];v=t.transform+=" translate3d("+h+", "+u+", 0)";break;case"rotate":t.transform+=" rotate("+a+"deg)";break;case"scale":t.transform+=" scale("+a+")";break;case"bgy":case"bgx":t["background-position-"+e[2]]="calc("+r+" + "+(a+s)+")";break;case"color":case"backgroundColor":case"borderColor":var c=b(n,p),d=c[0],l=c[1],f=c[2];t[e]="rgba("+d.map(function(t,e){return t+=f*(l[e]-t),3===e?w(t):parseInt(t,10)}).join(",")+")";break;case"blur":t.filter+=" blur("+a+"px)";break;case"hue":t.filter+=" hue-rotate("+a+"deg)";break;case"fopacity":t.filter+=" opacity("+a+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":t.filter+=" "+e+"("+a+"%)";break;default:t[e]=a}return t},{transform:"",filter:""})}}}}function b(t,e){var i=t.length-1,n=Math.min(Math.floor(i*e),i-1),s=t.slice(n,n+2);return s.push(1===e?1:e%(1/i)*i),s}function I(t,e){var i=b(t,e),n=i[0],s=i[1],r=i[2];return(a(n)?n+Math.abs(n-s)*r*(n<s?1:-1):+s).toFixed(2)}}function v(t){if(!v.installed){t.use(p);var e,i,n,s,r,a,o,h,u=t.mixin,c=t.util.height,d=(i=(e=t).mixin,n=e.util,s=n.assign,r=n.css,a=s({},i.slideshow.defaults.Animations,{fade:{show:function(){return[{opacity:0,zIndex:0},{zIndex:-1}]},percent:function(t){return 1-r(t,"opacity")},translate:function(t){return[{opacity:1-t,zIndex:0},{zIndex:-1}]}},scale:{show:function(){return[{opacity:0,transform:f(1.5),zIndex:0},{zIndex:-1}]},percent:function(t){return 1-r(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:f(1+.5*t),zIndex:0},{zIndex:-1}]}},pull:{show:function(t){return t<0?[{transform:l(30),zIndex:-1},{transform:l(),zIndex:0}]:[{transform:l(-100),zIndex:0},{transform:l(),zIndex:-1}]},percent:function(t,e,i){return i<0?1-a.translated(e):a.translated(t)},translate:function(t,e){return e<0?[{transform:l(30*t),zIndex:-1},{transform:l(-100*(1-t)),zIndex:0}]:[{transform:l(100*-t),zIndex:0},{transform:l(30*(1-t)),zIndex:-1}]}},push:{show:function(t){return t<0?[{transform:l(100),zIndex:0},{transform:l(),zIndex:-1}]:[{transform:l(-30),zIndex:-1},{transform:l(),zIndex:0}]},percent:function(t,e,i){return 0<i?1-a.translated(e):a.translated(t)},translate:function(t,e){return e<0?[{transform:l(100*t),zIndex:0},{transform:l(-30*(1-t)),zIndex:-1}]:[{transform:l(-30*t),zIndex:-1},{transform:l(100*(1-t)),zIndex:0}]}}}));t.component("slideshow-parallax",function(e,i){e.use(m);var t=e.mixin,n=e.util,s=n.closest,o=n.css,r=n.endsWith,h=n.noop,u=n.Transition;return{mixins:[t.parallax],computed:{item:function(){var t=e.getComponent(s(this.$el,".uk-"+i),i);return t&&s(this.$el,t.slidesSelector)}},events:[{name:"itemshown",self:!0,el:function(){return this.item},handler:function(){o(this.$el,this.getCss(.5))}},{name:"itemin itemout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,s=i.duration,r=i.timing,a=i.dir;u.cancel(this.$el),o(this.$el,this.getCss(d(e,a,n))),u.start(this.$el,this.getCss(c(e)?.5:0<a?1:0),s,r).catch(h)}},{name:"transitioncanceled transitionend",self:!0,el:function(){return this.item},handler:function(){u.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,s=i.dir;u.cancel(this.$el),o(this.$el,this.getCss(d(e,s,n)))}}]};function c(t){return r(t,"in")}function d(t,e,i){return i/=2,c(t)?e<0?1-i:i:e<0?i:1-i}}(t,"slideshow")),t.component("slideshow",{mixins:[u.class,u.slideshow,(o=t,h=o.util.removeClass,{update:[{write:function(){if(!this.stack.length&&!this.dragging){var t=this.getValidIndex();delete this.index,h(this.slides,this.clsActive,this.clsActivated),this.show(t)}},events:["load","resize"]}]})],props:{ratio:String,minHeight:Boolean,maxHeight:Boolean},defaults:{ratio:"16:9",minHeight:!1,maxHeight:!1,selList:".uk-slideshow-items",attrItem:"uk-slideshow-item",selNav:".uk-slideshow-nav",Animations:d},update:{read:function(){var t=this.ratio.split(":").map(Number),e=t[0],i=t[1];return i=i*this.$el.offsetWidth/e,this.minHeight&&(i=Math.max(this.minHeight,i)),this.maxHeight&&(i=Math.min(this.maxHeight,i)),{height:i}},write:function(t){var e=t.height;c(this.list,Math.floor(e))},events:["load","resize"]}})}}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(m),"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(v),v});