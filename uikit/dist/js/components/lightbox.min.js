/*! UIkit 3.0.0-beta.40 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define("uikitlightbox",i):t.UIkitLightbox=i()}(this,function(){"use strict";function c(t,i){return void 0===t&&(t=0),void 0===i&&(i="%"),"translateX("+t+(t?i:"")+")"}function C(t){return"scale3d("+t+", "+t+", 1)"}function E(t){if(!E.installed){var i,e,n,s,o,r,a,h,l,u,d,f,c,p,m,v,g,x,w,b,k,y,I,_=t.util,A=_.$,C=_.assign,$=_.clamp,T=_.fastdom,D=_.getIndex,N=_.hasClass,M=_.isNumber,S=_.isRtl,O=_.Promise,P=_.toNodes,j=_.trigger;t.mixin.slider={attrs:!0,mixins:[(y=t,I=y.util.pointerDown,{props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},defaults:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},events:[{name:"visibilitychange",el:document,handler:function(){document.hidden?this.stopAutoplay():this.startAutoplay()}},{name:I,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}}],methods:{startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){return!(t.isHovering&&t.pauseOnHover)&&!t.stack.length&&t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}}),(l=t,u=l.util,d=u.getPos,f=u.includes,c=u.isRtl,p=u.isTouch,m=u.off,v=u.on,g=u.pointerDown,x=u.pointerMove,w=u.pointerUp,b=u.preventClick,k=u.trigger,{defaults:{threshold:10,preventCatch:!1},init:function(){var n=this;["start","move","end"].forEach(function(t){var e=n[t];n[t]=function(t){var i=d(t).x*(c?-1:1);n.prevPos=i!==n.pos?n.pos:n.prevPos,n.pos=i,e(t)}})},events:[{name:g,delegate:function(){return this.slidesSelector},handler:function(t){var i;!p(t)&&!(i=t.target).children.length&&i.childNodes.length||0<t.button||this.length<2||this.preventCatch||this.start(t)}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.translate(this.percent),this._transitioner.cancel(),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,this.unbindMove=v(document,x,this.move,{capture:!0,passive:!1}),v(window,"scroll",this.unbindMove),v(document,w,this.end,!0)},move:function(t){var i=this,e=this.pos-this.drag;if(!(0===e||this.prevPos===this.pos||!this.dragging&&Math.abs(e)<this.threshold)){t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=e<0?1:-1;for(var n=this.slides,s=this.prevIndex,o=Math.abs(e),r=this.getIndex(s+this.dir,s),a=this._getDistance(s,r)||n[s].offsetWidth;r!==s&&a<o;)i.drag-=a*i.dir,s=r,o-=a,r=i.getIndex(s+i.dir,s),a=i._getDistance(s,r)||n[s].offsetWidth;this.percent=o/a;var h,l=n[s],u=n[r],d=this.index!==r,c=s===r;[this.index,this.prevIndex].filter(function(t){return!f([r,s],t)}).forEach(function(t){k(n[t],"itemhidden",[i]),c&&(h=!0,i.prevIndex=s)}),(this.index===s&&this.prevIndex!==s||h)&&k(n[this.index],"itemshown",[this]),d&&(this.prevIndex=s,this.index=r,!c&&k(l,"beforeitemhide",[this]),k(u,"beforeitemshow",[this])),this._transitioner&&this._transitioner.reset(),this._transitioner=this._translate(Math.abs(this.percent),l,!c&&u),d&&(!c&&k(l,"itemhide",[this]),k(u,"itemshow",[this]))}},end:function(){if(m(window,"scroll",this.unbindMove),this.unbindMove(),m(document,w,this.end,!0),this.dragging){if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{var t=(c?this.dir*(c?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(0<this.dir&&!t||this.dir<0&&t?"next":"previous",!0)}b()}this.drag=this.percent=null}}}),(i=t,e=i.util,n=e.$,s=e.$$,o=e.data,r=e.html,a=e.toggleClass,h=e.toNumber,{defaults:{selNav:!1},computed:{nav:function(t,i){var e=t.selNav;return n(e,i)},navItemSelector:function(t){var i=t.attrItem;return"["+i+"],[data-"+i+"]"},navItems:function(t,i){return s(this.navItemSelector,i)}},update:[{write:function(){var e=this;this.nav&&this.length!==this.nav.children.length&&r(this.nav,this.slides.map(function(t,i){return"<li "+e.attrItem+'="'+i+'"><a href="#"></a></li>'}).join("")),a(s(this.navItemSelector,this.$el).concat(this.nav),"uk-hidden",!this.maxIndex),this.updateNav()},events:["load","resize"]}],events:[{name:"click",delegate:function(){return this.navItemSelector},handler:function(t){t.preventDefault(),t.current.blur(),this.show(o(t.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav:function(){var e=this,n=this.getValidIndex();this.navItems.forEach(function(t){var i=o(t,e.attrItem);a(t,e.clsActive,h(i)===n),a(t,"uk-invisible",e.finite&&("previous"===i&&0===n||"next"===i&&n>=e.maxIndex))})}}})],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},defaults:{easing:"ease",finite:!1,velocity:1,index:0,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}},computed:{duration:function(t,i){var e=t.velocity;return.5*(i.offsetWidth/e)+300},length:function(){return this.slides.length},list:function(t,i){var e=t.selList;return A(e,i)},maxIndex:function(){return this.length-1},slidesSelector:function(t){return t.selList+" > *"},slides:function(){return P(this.list.children)}},methods:{show:function(t,i){var e=this;if(void 0===i&&(i=!1),!this.dragging&&this.length){var n=this.stack,s=i?0:n.length,o=function(){n.splice(s,1),n.length&&e.show(n.shift(),!0)};if(n[i?"unshift":"push"](t),!i&&1<n.length)2===n.length&&this._transitioner.forward(Math.min(this.duration,200));else{var r=this.index,a=N(this.slides,this.clsActive)&&this.slides[r],h=this.getIndex(t,this.index),l=this.slides[h];if(a!==l){var u,d;if(this.dir=(d=r,"next"===(u=t)?1:"previous"===u?-1:u<d?-1:1),this.prevIndex=r,this.index=h,a&&j(a,"beforeitemhide",[this]),!j(l,"beforeitemshow",[this,a]))return this.index=this.prevIndex,void o();var c=this._show(a,l,i).then(function(){return a&&j(a,"itemhidden",[e]),j(l,"itemshown",[e]),new O(function(t){T.write(function(){n.shift(),n.length?e.show(n.shift(),!0):e._transitioner=null,t()})})});return a&&j(a,"itemhide",[this]),j(l,"itemshow",[this]),c}o()}}},getIndex:function(t,i){return void 0===t&&(t=this.index),void 0===i&&(i=this.index),$(D(t,this.slides,i,this.finite),0,this.maxIndex)},getValidIndex:function(t,i){return void 0===t&&(t=this.index),void 0===i&&(i=this.prevIndex),this.getIndex(t,i)},_show:function(t,i,e){if(this._transitioner=this._getTransitioner(t,i,this.dir,C({easing:e?i.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing},this.transitionOptions)),!e&&!t)return this._transitioner.translate(1),O.resolve();var n=this.stack.length;return this._transitioner[1<n?"forward":"show"](1<n?Math.min(this.duration,75+75/(n-1)):this.duration,this.percent)},_getDistance:function(t,i){return new this._getTransitioner(t,t!==i&&i).getDistance()},_translate:function(t,i,e){void 0===i&&(i=this.prevIndex),void 0===e&&(e=this.index);var n=this._getTransitioner(i!==e&&i,e);return n.translate(t),n},_getTransitioner:function(t,i,e,n){return void 0===t&&(t=this.prevIndex),void 0===i&&(i=this.index),void 0===e&&(e=this.dir||1),void 0===n&&(n=this.transitionOptions),new this.Transitioner(M(t)?this.slides[t]:t,M(i)?this.slides[i]:i,e*(S?-1:1),n)}}}}}function $(e){if(!$.installed){e.use(E);var i,n,t=e.mixin,s=e.util,o=s.addClass,r=s.assign,a=s.fastdom,h=s.isNumber,l=s.removeClass,u=(i=e.util.css,n={slide:{show:function(t){return[{transform:c(-100*t)},{transform:c()}]},percent:function(t){return n.translated(t)},translate:function(t,i){return[{transform:c(-100*i*t)},{transform:c(100*i*(1-t))}]}},translated:function(t){return Math.abs(i(t,"transform").split(",")[4]/t.offsetWidth)||0}}),d=function(t){var i=t.util,n=i.createEvent,d=i.clamp,c=i.css,f=i.Deferred,p=i.noop,m=i.Promise,v=i.Transition,s=i.trigger;function g(t,i,e){s(t,n(i,!1,!1,e))}return function(o,r,a,t){var i=t.animation,h=t.easing,e=i.percent,n=i.translate,s=i.show;void 0===s&&(s=p);var l=s(a),u=new f;return{dir:a,show:function(t,i,e){var n=this;void 0===i&&(i=0);var s=e?"linear":h;return t-=Math.round(t*d(i,-1,1)),this.translate(i),g(r,"itemin",{percent:i,duration:t,timing:s,dir:a}),g(o,"itemout",{percent:1-i,duration:t,timing:s,dir:a}),m.all([v.start(r,l[1],t,s),v.start(o,l[0],t,s)]).then(function(){n.reset(),u.resolve()},p),u.promise},stop:function(){return v.stop([r,o])},cancel:function(){v.cancel([r,o])},reset:function(){for(var t in l[0])c([r,o],t,"")},forward:function(t,i){return void 0===i&&(i=this.percent()),v.cancel([r,o]),this.show(t,i,!0)},translate:function(t){var i=n(t,a);c(r,i[1]),c(o,i[0]),g(r,"itemtranslatein",{percent:t,dir:a}),g(o,"itemtranslateout",{percent:1-t,dir:a})},percent:function(){return e(o||r,r,a)},getDistance:function(){return o.offsetWidth}}}}(e);e.mixin.slideshow={mixins:[t.slider],props:{animation:String},defaults:{animation:"slide",clsActivated:"uk-transition-active",Animations:u,Transitioner:d},computed:{animation:function(t){var i=t.animation,e=t.Animations;return r(i in e?e[i]:e.slide,{name:i})},transitionOptions:function(){return{animation:this.animation}}},events:{"itemshow itemhide itemshown itemhidden":function(t){var i=t.target;e.update(null,i)},itemshow:function(){h(this.prevIndex)&&a.flush()},beforeitemshow:function(t){var i=t.target;o(i,this.clsActive)},itemshown:function(t){var i=t.target;o(i,this.clsActivated)},itemhidden:function(t){var i=t.target;l(i,this.clsActive,this.clsActivated)}}}}}function T(n){if(!T.installed){n.use($);var t,i,e,s,o,r=n.mixin,a=n.util,u=a.$,h=a.addClass,d=a.ajax,l=a.append,c=a.assign,f=a.attr,p=a.css,m=a.getImage,v=a.html,g=a.index,x=a.on,w=a.pointerDown,b=a.pointerMove,k=a.removeClass,y=a.Transition,I=a.trigger,_=(i=(t=n).mixin,e=t.util,s=e.assign,o=e.css,s({},i.slideshow.defaults.Animations,{fade:{show:function(){return[{opacity:0},{opacity:1}]},percent:function(t){return 1-o(t,"opacity")},translate:function(t){return[{opacity:1-t},{opacity:t}]}},scale:{show:function(){return[{opacity:0,transform:C(.8)},{opacity:1,transform:C(1)}]},percent:function(t){return 1-o(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:C(1-.2*t)},{opacity:t,transform:C(.8+.2*t)}]}}}));n.component("lightbox-panel",{mixins:[r.container,r.modal,r.togglable,r.slideshow],functional:!0,props:{delayControls:Number,preload:Number,videoAutoplay:Boolean,template:String},defaults:{preload:1,videoAutoplay:!1,delayControls:3e3,items:[],cls:"uk-open",clsPage:"uk-lightbox-page",selList:".uk-lightbox-items",attrItem:"uk-lightbox-item",selClose:".uk-close-large",pauseOnHover:!1,velocity:2,Animations:_,template:'<div class="uk-lightbox uk-overflow-hidden"> <ul class="uk-lightbox-items"></ul> <div class="uk-lightbox-toolbar uk-position-top uk-text-right uk-transition-slide-top uk-transition-opaque"> <button class="uk-lightbox-toolbar-icon uk-close-large" type="button" uk-close></button> </div> <a class="uk-lightbox-button uk-position-center-left uk-position-medium uk-transition-fade" href="#" uk-slidenav-previous uk-lightbox-item="previous"></a> <a class="uk-lightbox-button uk-position-center-right uk-position-medium uk-transition-fade" href="#" uk-slidenav-next uk-lightbox-item="next"></a> <div class="uk-lightbox-toolbar uk-lightbox-caption uk-position-bottom uk-text-center uk-transition-slide-bottom uk-transition-opaque"></div> </div>'},created:function(){var t=this;this.$mount(l(this.container,this.template)),this.caption=u(".uk-lightbox-caption",this.$el),this.items.forEach(function(){return l(t.list,"<li></li>")})},events:[{name:b+" "+w+" keydown",handler:"showControls"},{name:"click",self:!0,delegate:function(){return this.slidesSelector},handler:function(t){t.preventDefault(),this.hide()}},{name:"shown",self:!0,handler:"showControls"},{name:"hide",self:!0,handler:function(){this.hideControls(),k(this.slides,this.clsActive),y.stop(this.slides)}},{name:"keyup",el:document,handler:function(t){if(this.isToggled(this.$el))switch(t.keyCode){case 37:this.show("previous");break;case 39:this.show("next")}}},{name:"beforeitemshow",handler:function(t){this.isToggled()||(this.preventCatch=!0,t.preventDefault(),this.toggleNow(this.$el,!0),this.animation=_.scale,k(t.target,this.clsActive),this.stack.splice(1,0,this.index))}},{name:"itemshow",handler:function(t){var i=t.target,e=g(i),n=this.getItem(e).caption;p(this.caption,"display",n?"":"none"),v(this.caption,n);for(var s=0;s<=this.preload;s++)this.loadItem(this.getIndex(e+s)),this.loadItem(this.getIndex(e-s))}},{name:"itemshown",handler:function(){this.preventCatch=!1}},{name:"itemload",handler:function(t,s){var o,r=this,i=s.source,e=s.type,n=s.alt;if(this.setItem(s,"<span uk-spinner></span>"),i)if("image"===e||i.match(/\.(jp(e)?g|png|gif|svg)$/i))m(i).then(function(t){return r.setItem(s,'<img width="'+t.width+'" height="'+t.height+'" src="'+i+'" alt="'+(n||"")+'">')},function(){return r.setError(s)});else if("video"===e||i.match(/\.(mp4|webm|ogv)$/i)){var a=u("<video controls playsinline"+(s.poster?' poster="'+s.poster+'"':"")+' uk-video="autoplay: '+this.videoAutoplay+'"></video>');f(a,"src",i),x(a,"error",function(){return r.setError(s)}),x(a,"loadedmetadata",function(){f(a,{width:a.videoWidth,height:a.videoHeight}),r.setItem(s,a)})}else if("iframe"===e)this.setItem(s,'<iframe class="uk-lightbox-iframe" src="'+i+'" frameborder="0" allowfullscreen></iframe>');else if(o=i.match(/\/\/.*?youtube(-nocookie)?\.[a-z]+\/watch\?v=([^&\s]+)/)||i.match(/()youtu\.be\/(.*)/)){var h=o[2],l=function(t,i){return void 0===t&&(t=640),void 0===i&&(i=450),r.setItem(s,A("//www.youtube"+(o[1]||"")+".com/embed/"+h,t,i,r.videoAutoplay))};m("//img.youtube.com/vi/"+h+"/maxresdefault.jpg").then(function(t){var i=t.width,e=t.height;120===i&&90===e?m("//img.youtube.com/vi/"+h+"/0.jpg").then(function(t){var i=t.width,e=t.height;return l(i,e)},l):l(i,e)},l)}else(o=i.match(/(\/\/.*?)vimeo\.[a-z]+\/([0-9]+).*?/))&&d("//vimeo.com/api/oembed.json?maxwidth=1920&url="+encodeURI(i),{responseType:"json"}).then(function(t){var i=t.response,e=i.height,n=i.width;return r.setItem(s,A("//player.vimeo.com/video/"+o[2],n,e,r.videoAutoplay))})}}],methods:{loadItem:function(t){void 0===t&&(t=this.index);var i=this.getItem(t);i.content||I(this.$el,"itemload",[i])},getItem:function(t){return void 0===t&&(t=this.index),this.items[t]||{}},setItem:function(t,i){c(t,{content:i});var e=v(this.slides[this.items.indexOf(t)],i);I(this.$el,"itemloaded",[this,e]),n.update(null,e)},setError:function(t){this.setItem(t,'<span uk-icon="icon: bolt; ratio: 2"></span>')},showControls:function(){clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout(this.hideControls,this.delayControls),h(this.$el,"uk-active","uk-transition-active")},hideControls:function(){k(this.$el,"uk-active","uk-transition-active")}}})}function A(t,i,e,n){return'<iframe src="'+t+'" width="'+i+'" height="'+e+'" style="max-width: 100%; box-sizing: border-box;" frameborder="0" allowfullscreen uk-video="autoplay: '+n+'" uk-responsive></iframe>'}}function a(t){if(!a.installed){t.use(T);var i=t.util,n=i.$$,e=i.assign,s=i.data,o=i.index,r=t.components.lightboxPanel.options;t.component("lightbox",{attrs:!0,props:e({toggle:String},r.props),defaults:e({toggle:"a"},Object.keys(r.props).reduce(function(t,i){return t[i]=r.defaults[i],t},{})),computed:{toggles:function(t,i){var e=t.toggle;return n(e,i)}},disconnected:function(){this._destroy()},events:[{name:"click",delegate:function(){return this.toggle+":not(.uk-disabled)"},handler:function(t){t.preventDefault(),t.current.blur(),this.show(o(this.toggles,t.current))}}],update:function(t){var i,e;(this.panel&&this.animation&&(this.panel.$props.animation=this.animation,this.panel.$emit()),!this.panel||t.toggles&&(i=t.toggles,e=this.toggles,i.length===e.length&&i.every(function(t,i){return t!==e[i]})))||(t.toggles=this.toggles,this._destroy(),this._init())},methods:{_init:function(){return this.panel=this.panel||t.lightboxPanel(e({},this.$props,{items:this.toggles.reduce(function(t,e){return t.push(["href","caption","type","poster","alt"].reduce(function(t,i){return t["href"===i?"source":i]=s(e,i),t},{})),t},[])}))},_destroy:function(){this.panel&&(this.panel.$destroy(!0),this.panel=null)},show:function(t){return this.panel||this._init(),this.panel.show(t)},hide:function(){return this.panel&&this.panel.hide()}}})}}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(T),"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(a),a});